{% extends "bible/base.html" %} {% block title %} Book details {% endblock title %} {% block leftColumn %}

<div class="ui one cards">
    <div class="card">
        <a href="{% url 'bible:index' %}" class="image">
            <img src="{{ book.image.url }}">
        </a>
        <div class="content">
            <div class="header">TITLE</div>
            <div class="meta">
                <div>META</div>
            </div>
        </div>
    </div>
</div>
{% endblock leftColumn %} 

{% block body %} 
{# FAVORITES ======================================= #}
{# see DisplayFavoritesView #}
<div class="ui text container">
    {# ========= BOOKS ========== #} 
    {% if fav_books %}
        <h2>MY FAVORITES BOOKS</h2>
        <div class="ui four doubling link cards">
            {%for book in fav_books%}
                <div class="card">
                    <div class="content">
                        <div class="header">
                            {% if user.is_authenticated  %}
                                <!-- book.id variable in url comes from loop var not the model 
                                    book.obj gives the title ;) , book.obj_id gives the id
                                -->
                                <a href="{% url 'bible:book-detail' book.obj_id %}">{{book.obj}}</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Books to display</h2>
    {% endif %}

 
    {# ========= CHAPTERS ========== #}
    {% if chapters %}
        <h2>MY FAVORITES CHAPTERS</h2>
        <div class="ui four doubling link cards">
            {%for chapter in chapters%}
                <div class="card">
                    <div class="content">
                        <div class="header">
                            {% if user.is_authenticated  %}
                                <p>chapter id: {{chapter.obj_id}}</p>
                                <p>book id : {{chapter.book}}</p>
                                <p>chapter title: {{chapter.obj}}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Books to display</h2>
    {% endif %}

    {# ========= VERSES ========== #}
    {% if fav_verses_list %}
        <h2>MY FAVORITES VERSES</h2>
        <div class="ui four doubling link cards">
            {% for fav in fav_verses_list %}
                <div class="card">
                        <div class="content">
                            <div class="header">
                                {% if user.is_authenticated and user.id == fav.user_id %}
                                    <p>favorite verse id: {{ fav.id }}</p>
                                {% endif %}
                            </div>
                        </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Verses to display</h2>
    {% endif %}

    {# ========= ANNOTATIONS ========== #}
    {% if fav_annotations_list %}
        <h2>MY FAVORITES ANNOTATIONS</h2>
        <div class="ui four doubling link cards">
            {% for fav in fav_annotations_list %}
                <div class="card">
                        <div class="content">
                            <div class="header">
                                {% if user.is_authenticated and user.id == fav.user_id %}
                                    <p>favorite annotation id: {{ fav.id }}</p>
                                {% endif %}
                            </div>
                        </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Annotations to display</h2>
    {% endif %}





</div>

{% endblock body %}}