{% extends "bible/base.html" %} 
{% block title %} Book details {% endblock title %} 

{% block leftColumn %}

<div class="ui one cards">
    <div class="card">
        <a href="{% url 'bible:index' %}" class="image">
            <img src="{{ book.image.url }}">
        </a>
        <div class="content">
<div class="header">Hellow {{ user.get_username }}!</div>
            <div class="meta">
                <div>This page displays your favorites!</div>
            </div>
        </div>
    </div>
</div>
{% endblock leftColumn %} 

{% block body %} 
{# FAVORITES ======================================= #}
{# see DisplayFavoritesView #}
<div class="ui text container">
    {# ========= BOOKS ========== #} 
    {% if fav_books %}
        <h2>MY FAVORITES BOOKS</h2>
        <div class="ui two doubling link cards">
            {%for book in fav_books%}
                <div class="card">
                    <div class="content">
                        <div class="header">
                            {% if user.is_authenticated  %}
                                <!-- book.id variable in url comes from loop var not the model 
                                    book.obj gives the title ;) , book.obj_id gives the id
                                -->
                                <a href="{% url 'bible:book-detail' book.obj_id %}">{{book.obj}}</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Books to display</h2>
    {% endif %}

 
    {# ========= CHAPTERS ========== #}
    {% if favorite_chapters %}
        <h2>MY FAVORITES CHAPTERS</h2>
        <div class="ui two doubling link cards">
            {%for chapter in favorite_chapters%}
                <div class="card">
                    <div class="content">
                        <div class="header">
                            {% if user.is_authenticated  %}
                                <a href="{% url 'bible:chapter-detail' chapter.book_id chapter.id %}">{{chapter.book}} Chapter: {{chapter.number}} - {{chapter.title}}</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Chapters to display</h2>
    {% endif %}

    {# ========= VERSES ========== #}
    {% if favorite_verses %}
        <h2>MY FAVORITES VERSES</h2>
        <div class="ui two doubling link cards">
            {% for fav in favorite_verses %}
                <div class="card">
                        <div class="content">
                            <div class="header">
                                {% if user.is_authenticated %}
                                 <!-- TODO: 3 id are required -->
                                {% endif %}
                            </div>
                        </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Verses to display</h2>
    {% endif %}

    {# ========= ANNOTATIONS ========== #}
    {% if fav_annotations_list %}
        <h2>MY FAVORITES ANNOTATIONS</h2>
        <div class="ui two doubling link cards">
            {% for fav in fav_annotations_list %}
                <div class="card">
                        <div class="content">
                            <div class="header">
                                {% if user.is_authenticated and user.id == fav.user_id %}
                                    <p>favorite annotation id: {{ fav.id }}</p>
                                {% endif %}
                            </div>
                        </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>No Favorites Annotations to display</h2>
    {% endif %}





</div>

{% endblock body %}}